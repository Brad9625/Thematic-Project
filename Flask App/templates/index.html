<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static',filename='index.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',filename='GameBoard.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script>
      
      const socket = io();

      socket.on("detMove", function(data) {
            var loc = document.getElementById(data['detective']);
            var pos = document.getElementById(data['locationTo']);
            loc.style.left = pos.style.left;
            loc.style.top = pos.style.top;
        });
    </script>
</head>

<body>
  <div id="head">
    <p id="header-text">Welcome to Scotland Yard</p>
  </div>

  <div id="main-containers">
    <div id="game-container">

        <div id="board-frame">
            <div id="board-container">

                <!-- Map -->
                <img id="game-map" src="temp.png" alt="Game Map">

                <!-- Optional marker -->
                <div id="red-detective" class="marker" style="position: absolute; top: 20%; left: 20%;"></div>
                
                <!-- Locations -->
                <div id="130" style="display: none; position: absolute; top: 13%; left: 34%; width:1px; height:1px;"></div> <!-- style parameters later to be determined by Flask param-->
            </div>
      </div>
    </div>

    <div id="right-column">
      <div id="scoreboard-container">
        <div id="scoreboard">
          <table id="scoreboard-table">
            <thead>
              <tr>
                <th>Move</th>
                <th>Player 1</th>
                <th>Player 2</th>
                <th>Player 3</th>
                <th>Mr. X</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Move 1</td><td></td><td></td><td></td><td></td></tr>
              <tr><td>Move 2</td><td></td><td></td><td></td><td></td></tr>
              <tr><td>Move 3</td><td></td><td></td><td></td><td></td></tr>
              <tr><td>Move 4</td><td></td><td></td><td></td><td></td></tr>
              <tr><td>Move 5</td><td></td><td></td><td></td><td></td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div id="info-container">
        <h2>Game Information</h2>
        <button class="button" type="button">New Game</button>
        <button class="button" id="rulesBtn" type="button">Rules</button>
      </div>
    </div>
  </div>

  <footer id="footer">
    <p>©2024 Scotland Yard. All rights reserved.</p>
  </footer>


  <div id="rulesModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="rulesTitle">
      <button class="modal-close" id="rulesCloseBtn" type="button" aria-label="Close rules">&times;</button>
      <h2 id="rulesTitle">Scotland Yard Official Rules</h2>

      <div class="rules-text">
        <p> Here is a brief summary of the rules. </p>
        <ol>
          <li><strong>Objectives: <br>- Detectives win by locating and capturing Mr X. <br>- Mr X wins by evading capture until the end of the game or if detectives cannot make a legal move. </strong></li>
          <li><strong> Players and Roles: <br>- 2-6 Players. <br>- 1 player is secretely chosen to be Mr. X. <br>- Remaining players act as Detectives </strong> </li>
          <li><strong> Game Components: <br>- Game board (map of London). <br>- Player tokensTransport tickets: Taxi, Bus, Underground<br>- Secret tickets and Double Move tickets (Mr X only)<br>- Mr X movement log (hidden record of moves)</strong></li>
          <li><strong> Setup: <br>- All players place their tokens on random starting locations.<br>- Mr X’s location is kept secret from detectives.<br>- Each player receives a set number of transport tickets.<br>- Mr X receives additional Secret and Double Move tickets. </strong></li>
          <li><strong> Turn Order: <br>- Mr X moves first, followed by detectives.<br>- Players take turns in clockwise order.</strong></li>
          <li><strong> Movement Rules: <br>- Players move along connected routes on the board.<br>- Each move consumes one transport ticket:<br>-- Taxi (short routes)<br>-- Bus (medium routes)<br>-- Underground (long routes)<br>- Detectives may not move onto the same space as another detective. </strong></li>
          <li><strong> Mr X's Special Rules: <br>- Mr X records every move secretly on a log sheet.<br>- On specific rounds, Mr X must reveal their location.<br>- Mr X may:<br>-- Use Secret Tickets to hide transport typeUse<br>-- Double Move Tickets to move twice in one turn</strong></li>      
          <li><strong> Capture Rules: <br>- Mr X is captured immediately if a detective lands on his location.<br>- The game ends instantly upon capture.</strong></li>
          <li><strong> Winning The Game: <br>- Detectives win if Mr X is captured.<br>- Mr X wins if:<br>-- He survives all rounds, or<br>-- All detectives are unable to move legally. </strong></li>
          <li><strong> Key Restrictions: <br>- Detectives cannot use Secret or Double Move tickets.<br>- Detectives must surrender used tickets to Mr X.<br>- Mr X cannot move onto a space occupied by a detective.</strong></li>
        </ol>
        <h3> !!Good Look and may the best Player win!!</h3>
      </div>
    </div>
  </div>



  

   <script src="index.js"></script>
</body>


</html>
